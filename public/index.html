<!DOCTYPE html>
<html>

	<title>Torpedo Bridge</title>
	<!-- Angular Material style sheet -->
  <link rel="stylesheet" href="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.css">
	<!-- Angular Material requires Angular.js Libraries -->
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-animate.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-aria.min.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-messages.min.js"></script>
	<!-- Angular Material Library -->
  <script src="http://ajax.googleapis.com/ajax/libs/angular_material/1.1.0/angular-material.min.js"></script>

	<meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimal-ui" />

	<!-- FabricJS canvas Library -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/fabric.js/1.6.6/fabric.min.js"></script>
    <script src="torpedo-game.js"></script>
	<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
<body>



<div ng-app="torpedo-app" ng-controller="MainCtrl" layout="column" ng-cloak>
	<div>
		<md-toolbar>
			  <div class="md-toolbar-tools" layout="row" class="md-primary">
				<div  layout="column" flex >
					<h2  class="md-title" layout-align="start center">
					  Torpedo Bridge
					</h2>

					</div>
					<md-button ng-click="startGame()">Start Game</md-button>
					<md-button ng-disabled="!gameID" ng-click="joinGame()">Join Game</md-button>
					<md-button ng-disabled="!gameID" ng-click="getGameInfo()">Refresh Game</md-button>
					<md-button ng-disabled="!gameID" ng-click="getSubmarines()">Refresh Submarines</md-button>

				<span flex></span>
			  </div>
		</md-toolbar>
	</div>
	<div layout="row">
		<pre>{{getGameInfoText()}}</pre>
	</div>

	<div layout="row" layout-xs="column">
		<md-card ng-repeat="submarine in submarines">
        <md-card-title>
          <md-card-title-text>
            <span class="md-headline">{{submarine.type}} {{submarine.id}}</span>
						<span class="md-subhead">X: {{submarine.position.x}}</span>
						<span class="md-subhead">Y: {{submarine.position.y}}</span>
          </md-card-title-text>
        </md-card-title>
				<md-card-content>
					<div layout="row">
						Speed {{submarine.velocity}}
					</div>
					<md-progress-linear md-mode="determinate" value="{{submarine.hp}}"></md-progress-linear>
					<div layout="column">
						<div layout="row">
							<md-input-container>
								<label>Speed</label>
								<input max="{{gameInfo.maxAccelerationPerRound}}" type="number" ng-model="submarine.speed">
							</md-input-container>
							<md-input-container>
								<label>Turn</label>
								<input max="{{gameInfo.maxAccelerationPerRound}}" type="number" ng-model="submarine.turn">
							</md-input-container>
							<md-button ng-click="move(submarine.id, submarine.speed, submarine.turn)">Move</md-button>
						</div>
						<div layout="row">
							<md-input-container>
								<label>Title</label>
								<input  type="number" ng-model="submarine.acc">
							</md-input-container>
							<md-button ng-click="move()">Shoot</md-button>
						</div>
				</div>
				</md-card-content>
      </md-card>
	</div>
	<div layout="row" layout-xs="column">
		<canvas id="map" style="border:1px solid #000000;"></canvas>
	</div>
</div>

</body>
</html>
